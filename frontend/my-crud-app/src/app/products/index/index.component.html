<!-- index.component.html -->

<div class="container mt-4">
    <h2 class="mb-3">Les produits</h2>
    <div class="input-container mb-3">
      <app-create></app-create>
      <input class="form-control" (keyup)="filter($event)" placeholder="Rechercher">
    </div>
    <div class="table-container">
      <table mat-table [dataSource]="products" class="mat-elevation-z8 table table-striped" #mytable matSort>
        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns;"></tr>
        <ng-container matColumnDef="imageart">
          <th mat-header-cell *matHeaderCellDef>Image</th>
          <td mat-cell *matCellDef="let t">
            <div class="image-container">
              <img src="{{ t.imageart }}" alt="Product Image" class="img-thumbnail" />
            </div>
          </td>
        </ng-container>
        <ng-container matColumnDef="designation">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>DÃ©signation</th>
          <td mat-cell *matCellDef="let t">{{ t.designation }}</td>
        </ng-container>
        <ng-container matColumnDef="marque">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Marque</th>
          <td mat-cell *matCellDef="let t">{{ t.marque }}</td>
        </ng-container>
        <ng-container matColumnDef="prix">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Prix</th>
          <td mat-cell *matCellDef="let t">{{ t.prix }} TND</td>
        </ng-container>
        <ng-container matColumnDef="_id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
          <td mat-cell *matCellDef="let t" class="action-buttons">
            <app-view [productId]="t._id"></app-view>
            <app-edit [productId]="t._id"></app-edit>
            <button type="button" (click)="deleteProduct(t._id)" class="btn btn-danger">
              <i class="bi bi-trash-fill"></i>
            </button>
          </td>
        </ng-container>
      </table>
    </div>
    <mat-paginator [pageSize]="5" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
  </div>
  